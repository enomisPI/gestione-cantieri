<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gestione Cantieri e Personale</title>
  <style>
    body { font-family: Arial,sans-serif; background:#f9f9f9; margin:20px; }
    h1,h2 { color:#2c3e50; }
    .container { max-width: 1100px; margin: auto; }
    .tabs { display: flex; gap:10px; margin-bottom: 20px; flex-wrap: wrap; }
    .tab { background:#34495e; color:#fff; padding:10px 20px; border-radius: 4px 4px 0 0; cursor: pointer; user-select:none; }
    .tab.active { background:#2c3e50; font-weight:bold; }
    .content { background:#fff; padding:20px; border-radius: 0 4px 4px 4px; box-shadow:0 2px 5px rgba(0,0,0,0.1); display:none; overflow-x:auto; }
    .content.active { display:block; }
    label { font-weight:bold; margin-top:10px; display:block; }
    input, select, textarea { width: 100%; padding:6px; margin-top:4px; box-sizing: border-box; }
    textarea { resize: vertical; }
    select[multiple] { height: 130px; }
    button { margin-top: 10px; padding: 6px 14px; border:none; background:#3498db; color:#fff; border-radius:4px; cursor:pointer; }
    button:hover { background:#2980b9; }
    table { width: 100%; border-collapse: collapse; margin-top: 15px; table-layout: auto; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: center; vertical-align: top; word-wrap: break-word; }
    th { background:#34495e; color:#fff; }
    .btn-icon { background:none; border:none; cursor:pointer; font-size:18px; margin: 0 4px; }
    .btn-icon.edit { color:#3498db; }
    .btn-icon.delete { color:#e74c3c; }
    .filter-input { margin-bottom:10px; padding:6px; width: 100%; max-width:300px; }
  </style>
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>
<body>
<div class="container">
  <h1>Gestione Cantieri e Personale</h1>
  <div class="tabs">
    <div class="tab active" data-tab="cantieri">Cantieri</div>
    <div class="tab" data-tab="personale">Personale</div>
    <div class="tab" data-tab="pianificazione">Pianificazione</div>
  </div>

  <!-- Cantieri -->
  <div id="cantieri" class="content active">
    <h2>Cantieri</h2>
    <input type="text" id="filterCantieri" class="filter-input" placeholder="Cerca cantieri...">
    <label for="nomeCantiere">Nome cantiere</label>
    <input id="nomeCantiere" placeholder="Inserisci nome cantiere" />
    <button id="btnSaveCant">Salva</button>
    <table id="tableCantieri">
      <thead><tr><th>Nome</th><th>Azioni</th></tr></thead>
      <tbody></tbody>
    </table>
  </div>

  <!-- Personale -->
  <div id="personale" class="content">
    <h2>Personale</h2>
    <input type="text" id="filterPersonale" class="filter-input" placeholder="Cerca per nome, cognome o mansione...">
    <label for="nomePersona">Nome</label>
    <input id="nomePersona" placeholder="Nome" />
    <label for="cognomePersona">Cognome</label>
    <input id="cognomePersona" placeholder="Cognome" />
    <label for="mansionePersona">Mansione</label>
    <input id="mansionePersona" placeholder="Mansione" />
    <label for="notePersona">Note</label>
    <textarea id="notePersona" rows="2" placeholder="Note su persona (opzionale)"></textarea>
    <button id="btnSavePers">Salva</button>
    <table id="tablePersonale">
      <thead><tr><th>Nome</th><th>Cognome</th><th>Mansione</th><th>Note</th><th>Azioni</th></tr></thead>
      <tbody></tbody>
    </table>
  </div>

  <!-- Pianificazione -->
  <div id="pianificazione" class="content">
    <h2>Pianificazione</h2>
    <label for="dataPlan">Data intervento</label>
    <input type="date" id="dataPlan" />

    <label for="selectCantiere">Cantiere</label>
    <select id="selectCantiere"></select>

    <label for="selectPers">Dipendenti (seleziona uno o pi√π)</label>
    <select id="selectPers" multiple></select>

    <label for="notePlan">Note</label>
    <textarea id="notePlan" rows="2"></textarea>

    <button id="btnAddPlan">Assegna</button>

    <table id="tablePlan">
      <thead>
        <tr><th>Data</th><th>Cantiere</th><th>Dipendenti</th><th>Note</th><th>Azioni</th></tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
</div>
<script>
// Qui andranno le funzioni JavaScript: 
// - caricamento Firebase Firestore
// - gestione eventi CRUD
// - filtri di ricerca
// - aggiornamento dinamico nominativi
// - nascondere colonne vuote
</script>
</body>
</html>